var getScrollCallbackForRefresh=function(refreshInterval){if(!kindle||!kindle.device||!kindle.device.eInk||typeof(refreshInterval)!="number"){return;}var MODE_MAX=kindle.device.eInk.REFRESH_MODE_AUTO_MAXIMAL;var MODE_MIN=kindle.device.eInk.REFRESH_MODE_AUTO_MINIMAL;var currentRefreshMode=null;var scrollCount=0;return function(){++scrollCount;if(scrollCount>refreshInterval){scrollCount=0;currentRefreshMode=MODE_MAX;kindle.device.eInk.refreshMode=MODE_MAX;}else{if(currentRefreshMode!=MODE_MIN){currentRefreshMode=MODE_MIN;kindle.device.eInk.refreshMode=MODE_MIN;}}};};